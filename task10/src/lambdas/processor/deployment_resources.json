{
  "processor-role": {
    "predefined_policies": [],
    "principal_service": "lambda",
    "custom_policies": [
      "lambda-basic-execution",
      "AWSXrayWriteOnlyAccess",
      "AmazonDynamoDBFullAccess"
    ],
    "resource_type": "iam_role",
    "tags": {}
  },
  "dynamo_table": {
    "resource_type": "dynamodb_table",
    "name": "${target_table}",  // Ensure this alias is resolved properly in syndicate_aliases.yml
    "primary_key_name": "id",
    "attributes": {
      "id": "S"
    },
    "tags": {
      "Project": "WeatherApp"
    }
  },
  "lambda-function": {
    "resource_type": "lambda",  // Ensure the Lambda resource type is correct
    "name": "${lambdas_alias_name}", // Use double quotes for variables
    "runtime": "python3.9",
    "handler": "lambda_function.lambda_handler",
    "code_entry_type": "zip",
    "memory_size": 128,
    "timeout": 15,
    "role": "@processor-role",
    "environment_variables": {
      "TABLE_NAME": "${target_table}" // Ensure double quotes around the property name
    },
    "tags": {
      "Project": "WeatherApp"
    }
  }
}
